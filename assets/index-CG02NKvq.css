:root{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;line-height:1.5;font-weight:400;color-scheme:dark;color:#e2e8f0;background-color:#0f172a;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%;--primary-color: #3b82f6;--secondary-color: #ef4444;--success-color: #10b981;--warning-color: #f59e0b;--dark-color: #1e293b;--darker-color: #0f172a;--light-color: #64748b;--lighter-color: #e2e8f0;--border-color: #374151;--shadow: 0 4px 20px rgba(0, 0, 0, .5);--card-bg: #1e293b;--card-hover-bg: #334155}*{box-sizing:border-box}body{margin:0;padding:20px;min-width:320px;min-height:100vh;background:linear-gradient(135deg,#1e293b,#0f172a)}#app{max-width:1400px;margin:0 auto;background:var(--card-bg);border-radius:15px;box-shadow:var(--shadow);overflow:hidden;border:1px solid var(--border-color)}.game-header{background:linear-gradient(90deg,var(--darker-color),var(--primary-color));color:#fff;padding:20px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;border-bottom:1px solid var(--border-color)}.game-header h1{margin:0;font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.3)}.end-run-btn{background:linear-gradient(45deg,#dc2626,#991b1b);color:#fff;border:none;padding:8px 16px;border-radius:8px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px #dc26264d;text-shadow:1px 1px 2px rgba(0,0,0,.3)}.end-run-btn:hover{background:linear-gradient(45deg,#ef4444,#dc2626);transform:translateY(-2px);box-shadow:0 4px 12px #dc262666}.end-run-btn:active{transform:translateY(0);box-shadow:0 2px 6px #dc26264d}.player-stats{display:flex;gap:20px;flex-wrap:wrap}.stat{background:#0000004d;padding:8px 12px;border-radius:8px;font-weight:700;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1)}.stat-label{opacity:.9;margin-right:5px}.game-main{display:grid;grid-template-columns:1fr 350px;gap:20px;padding:20px;min-height:600px}.game-area{display:flex;flex-direction:column;gap:20px}.combat-area.hidden{display:none!important}.zone-selector{background:var(--card-bg);border-radius:10px;padding:20px;box-shadow:var(--shadow);border:1px solid var(--border-color)}.zone-selector h3{margin-top:0;color:var(--lighter-color)}.zone-buttons{display:flex;gap:10px;flex-wrap:wrap}.zone-btn{padding:10px 15px;border:none;border-radius:8px;background:var(--primary-color);color:#fff;cursor:pointer;font-weight:700;transition:all .3s ease}.zone-btn:hover{background:#2563eb;transform:translateY(-2px);box-shadow:0 4px 8px #0006}.zone-btn.active{background:var(--success-color)}.zone-btn.town{background:var(--warning-color)}.zone-btn.town:hover{background:#d97706}.zone-btn.town{display:none}.zone-btn.locked{background:var(--light-color);color:var(--dark-color);cursor:not-allowed;opacity:.6;position:relative;padding-right:35px}.zone-btn.locked:hover{background:var(--light-color);transform:none;box-shadow:none}.zone-btn.locked:after{content:"🔒";position:absolute;top:50%;right:10px;transform:translateY(-50%);font-size:.9rem;pointer-events:none}.kill-counter{background:var(--card-bg);border-radius:10px;padding:15px;box-shadow:var(--shadow);border:1px solid var(--border-color);margin-bottom:20px}.kill-counter-content{display:flex;align-items:center;justify-content:center;gap:10px;font-weight:700;color:var(--lighter-color)}.kill-counter-icon{font-size:1.2rem}.kill-counter-text{font-size:1rem}.boss-warning{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;padding:30px;border-radius:15px;text-align:center;box-shadow:0 10px 30px #ef444480;border:3px solid #ef4444;z-index:2000;animation:warningPulse .5s ease-in-out;pointer-events:none}.boss-warning-content{display:flex;flex-direction:column;align-items:center;gap:10px;text-shadow:2px 2px 4px rgba(0,0,0,.8)}.warning-icon{font-size:3rem;margin-bottom:10px;animation:warningShake .5s infinite}.warning-text{font-size:2rem;font-weight:700;margin-bottom:5px;text-transform:uppercase}.boss-name{font-size:1.5rem;font-weight:700;color:#ffeb3b}@keyframes warningPulse{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes warningShake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.victory-message{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,gold,#ffeb3b);color:#1a202c;padding:30px;border-radius:15px;text-align:center;box-shadow:0 10px 30px #ffd70080;border:3px solid #ffd700;z-index:1500;animation:victoryAppear .8s ease-out;pointer-events:none}.victory-content{display:flex;flex-direction:column;align-items:center;gap:10px}.victory-icon{font-size:3rem;animation:victoryBounce 1s ease-in-out infinite}.victory-text{font-size:2.5rem;font-weight:700;text-transform:uppercase;text-shadow:2px 2px 4px rgba(0,0,0,.3)}.victory-subtext{font-size:1.2rem;font-weight:700;opacity:.8}@keyframes victoryAppear{0%{opacity:0;transform:translate(-50%,-50%) scale(.5) rotate(-180deg)}to{opacity:1;transform:translate(-50%,-50%) scale(1) rotate(0)}}@keyframes victoryBounce{0%,to{transform:translateY(0) scale(1)}50%{transform:translateY(-10px) scale(1.1)}}.combat-area,.shop-area{background:var(--card-bg);border-radius:10px;padding:20px;box-shadow:var(--shadow);border:1px solid var(--border-color)}.combat-area{display:grid;grid-template-columns:1fr 1fr;gap:20px;align-items:start}.shop-area{display:flex;flex-direction:column;gap:20px}.inventory-section{background:var(--card-bg);border-radius:10px;padding:20px;box-shadow:var(--shadow);border:1px solid var(--border-color);margin-top:20px}.inventory-section h3{margin:0 0 15px;color:var(--lighter-color);font-size:1.2rem;text-align:center}.inventory-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.inventory-header h3{margin:0;text-align:left}.inventory-gold{display:flex;align-items:center;gap:2px;background:var(--darker-color);border:1px solid var(--border-color);border-radius:3px;padding:4px 8px;font-weight:700;margin-bottom:15px;width:fit-content}.gold-icon{font-size:1rem}.gold-amount{color:var(--success-color);font-size:.7rem;min-width:25px;text-align:right}.activity-log{background:var(--card-bg);border-radius:10px;padding:20px;box-shadow:var(--shadow);border:1px solid var(--border-color);margin-top:20px}.log-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;flex-wrap:wrap;gap:10px}.log-header h4{margin:0;color:var(--lighter-color)}.log-filters{display:flex;gap:8px;align-items:center;flex-wrap:wrap}.filter-btn{padding:6px 12px;border:1px solid var(--border-color);border-radius:6px;background:var(--dark-color);color:var(--light-color);cursor:pointer;font-size:.8rem;transition:all .3s ease}.filter-btn:hover{background:var(--card-hover-bg);border-color:var(--primary-color)}.filter-btn.active{background:var(--primary-color);color:#fff;border-color:var(--primary-color)}.clear-log-btn{padding:6px 10px;border:1px solid var(--secondary-color);border-radius:6px;background:var(--secondary-color);color:#fff;cursor:pointer;font-size:.8rem;transition:all .3s ease}.clear-log-btn:hover{background:#dc2626;transform:scale(1.05)}.activity-messages{height:200px;overflow-y:auto;overflow-x:hidden;font-size:.9rem;line-height:1.4;background:var(--dark-color);border-radius:8px;padding:15px;border:1px solid var(--border-color)}.activity-message{margin:6px 0;padding:8px 10px;border-radius:6px;border-left:3px solid var(--border-color);transition:all .3s ease;word-wrap:break-word;overflow-wrap:break-word}.activity-message.combat{background:#3b82f61a;border-left-color:var(--primary-color)}.activity-message.shop{background:#f59e0b1a;border-left-color:var(--warning-color)}.activity-message.system{background:#10b9811a;border-left-color:var(--success-color)}.activity-message.player-attack{background:#3b82f626;border-left-color:var(--primary-color)}.activity-message.enemy-attack{background:#ef444426;border-left-color:var(--secondary-color)}.activity-message.enemy-defeated{background:#10b98126;border-left-color:var(--success-color);font-weight:700}.activity-message.level-up{background:#a855f726;border-left-color:#a855f7;font-weight:700}.activity-message.hidden{display:none}.activity-message .timestamp{font-size:.7rem;color:#9ca3af;margin-right:8px}.activity-message.player-crit{color:#ff6b6b;font-weight:700}.activity-message.player-dodge{color:#4ecdc4;font-style:italic}.activity-message.enemy-blocked{color:#ffd93d}.inventory-controls{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;gap:10px;flex-wrap:wrap}.inventory-filters{display:flex;gap:10px}.inventory-filters select{background:var(--dark-color);color:var(--light-color);border:1px solid var(--border-color);border-radius:4px;padding:5px 10px;font-size:.9em}.auto-sell-controls{display:flex;gap:10px}.auto-sell-controls{display:flex;align-items:center;gap:10px}.auto-sell-toggle{display:flex;align-items:center;gap:5px;color:var(--light-color);font-size:.9em;cursor:pointer;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.auto-sell-toggle input[type=checkbox]{margin:0}.auto-sell-btn{background:var(--primary-color);color:#fff;border:none;border-radius:4px;padding:6px 12px;font-size:.9em;cursor:pointer;transition:background-color .2s ease}.auto-sell-btn:hover{background:#2563eb}.auto-sell-settings{display:flex;flex-direction:column;gap:20px;margin:20px 0}.auto-sell-group{background:var(--dark-color);padding:15px;border-radius:8px;border:1px solid var(--border-color)}.auto-sell-group h4{margin:0 0 10px;color:var(--primary-color);font-size:1em}.auto-sell-group label{display:flex;align-items:center;gap:8px;margin-bottom:8px;cursor:pointer;color:var(--light-color)}.auto-sell-group input[type=checkbox]{accent-color:var(--primary-color)}.modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;background-color:#000000e6;justify-content:center;align-items:center}.modal-content{background:var(--dark-color);color:var(--light-color);padding:20px;border-radius:8px;border:1px solid var(--border-color);max-width:500px;width:90%;max-height:80vh;overflow-y:auto}.modal-buttons{display:flex;gap:10px;justify-content:flex-end;margin-top:20px}.modal-buttons .btn{background:var(--primary-color);color:#fff;border:none;border-radius:4px;padding:8px 16px;cursor:pointer;transition:background-color .2s ease}.modal-buttons .btn:hover{background:#2563eb}.item-actions{display:flex;justify-content:space-between;align-items:center;margin-top:5px}.sell-price{color:var(--success-color);font-size:.8em;font-weight:700;cursor:pointer;padding:2px 6px;border-radius:3px;background:#10b9811a;border:1px solid var(--success-color);transition:all .2s ease}.sell-price:hover{background:var(--success-color);color:#fff}@keyframes selling{0%{transform:scale(1);opacity:1}50%{transform:scale(.8);opacity:.5}to{transform:scale(0);opacity:0}}.inventory-item.selling{animation:selling .3s ease-out forwards}.inventory-tooltip{position:fixed;background:var(--card-bg);border:2px solid var(--border-color);border-radius:8px;padding:12px;min-width:200px;max-width:300px;z-index:1000;box-shadow:0 4px 12px #0006;pointer-events:none;font-size:.9rem}.tooltip-header{border-bottom:1px solid var(--border-color);padding-bottom:8px;margin-bottom:8px}.tooltip-name{font-weight:700;font-size:1rem;margin-bottom:4px}.tooltip-rarity{font-size:.8rem;font-weight:700;text-transform:uppercase}.tooltip-stats{margin-bottom:8px}.tooltip-stat-line{display:flex;justify-content:space-between;margin-bottom:2px;font-size:.85rem}.tooltip-separator{border-top:1px solid #374151;margin:6px 0;opacity:.6}.tooltip-comparison{border-top:1px solid var(--border-color);padding-top:8px}.tooltip-comparison-header{font-weight:700;color:var(--lighter-color);margin-bottom:4px;font-size:.9rem}.stat-change{display:flex;justify-content:space-between;font-size:.85rem;margin-bottom:2px}.stat-change.positive{color:var(--success-color)}.stat-change.negative{color:var(--secondary-color)}.tooltip-title{font-weight:700;font-size:1rem;margin-bottom:8px;border-bottom:1px solid var(--border-color);padding-bottom:4px}.tooltip-item-type{font-size:.75rem;color:var(--lighter-color);font-style:italic;margin-bottom:8px;margin-top:-4px}.tooltip-comparison{font-size:.85rem;color:var(--lighter-color);margin-bottom:6px;font-style:italic}.stat-gain{color:#22c55e;font-size:.85rem;margin-bottom:2px}.stat-loss{color:#ef4444;font-size:.85rem;margin-bottom:2px}.stat-neutral{color:var(--lighter-color);font-size:.85rem;margin-bottom:2px}.stat-base{color:var(--light-color);font-size:.85rem;margin-bottom:2px}.stat-missing{color:#94a3b8;font-size:.85rem;margin-bottom:2px;font-style:italic;opacity:.8}.tooltip-sell-info{color:#fbbf24;font-size:.85rem;margin-top:8px;padding-top:6px;border-top:1px solid var(--border-color);text-align:center;font-style:italic}.stat-change.neutral{color:var(--light-color)}.shop-welcome{text-align:center;padding:20px;background:var(--dark-color);border-radius:8px;border:1px solid var(--border-color)}.shop-welcome h3{margin:0 0 10px;color:var(--lighter-color);font-size:1.5rem}.shop-welcome p{margin:0;color:var(--light-color);font-style:italic}.shop-content{display:grid;grid-template-columns:2fr 1fr;gap:20px}.shop-items-container{background:var(--dark-color);border-radius:8px;padding:15px;border:1px solid var(--border-color)}.shop-items-container h4{margin-top:0;color:var(--lighter-color)}.shop-info{display:flex;flex-direction:column;gap:15px}.gold-display,.shop-tips{background:var(--dark-color);border-radius:8px;padding:15px;border:1px solid var(--border-color)}.gold-display h4,.shop-tips h4{margin-top:0;color:var(--lighter-color)}.gold-amount{font-size:1.2rem;font-weight:700;color:var(--warning-color);text-align:center;padding:5px;background:#f59e0b1a;border-radius:6px;border:1px solid rgba(245,158,11,.3)}.shop-tips ul{margin:0;padding-left:20px;color:var(--light-color)}.shop-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:15px;max-height:400px;overflow-y:auto;padding:5px}.shop-item{border:2px solid #ffffff;border-radius:8px;padding:12px;text-align:center;cursor:pointer;transition:all .3s ease;background:var(--dark-color);font-size:.8rem;color:var(--lighter-color);position:relative;min-height:120px;display:flex;flex-direction:column;justify-content:space-between}.shop-item .item-name{font-weight:700;margin-bottom:6px;color:var(--lighter-color);font-size:.9rem}.shop-item .item-stats{font-size:.75rem;color:var(--light-color);margin-bottom:6px}.shop-item .item-type{font-size:.7rem;color:var(--success-color);text-transform:uppercase;font-weight:700;margin-bottom:8px}.shop-item .item-price{font-weight:700;padding:4px 8px;border-radius:4px;font-size:.8rem}.shop-item .item-price.affordable{background:var(--success-color);color:#fff}.shop-item .item-price.expensive{background:var(--secondary-color);color:#fff}.shop-item.purchasing{animation:purchaseAnimation .3s ease-out;border-color:var(--warning-color);background:#f59e0b33}@keyframes purchaseAnimation{0%{transform:scale(1);box-shadow:0 0 #f59e0b66}50%{transform:scale(1.05);box-shadow:0 0 20px #f59e0b99}to{transform:scale(1);box-shadow:0 0 #f59e0b66}}.death-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;justify-content:center;align-items:center;z-index:1000;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.death-content{background:var(--card-bg);border:3px solid var(--secondary-color);border-radius:15px;padding:40px;text-align:center;max-width:500px;width:90%;box-shadow:0 10px 50px #ef44444d;animation:deathAppear .5s ease-out}.death-skull{font-size:4rem;margin-bottom:20px;animation:skullBounce 1s ease-in-out infinite alternate}.death-title{color:var(--secondary-color);margin:0 0 20px;font-size:2.5rem;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.death-message{margin-bottom:30px}.death-message p{color:var(--lighter-color);margin:0 0 15px;font-size:1.1rem}.death-penalties{background:var(--dark-color);border-radius:8px;padding:15px;margin:20px 0;border:1px solid var(--border-color)}.penalty-item{display:flex;align-items:center;justify-content:center;margin:8px 0;font-size:1rem}.penalty-icon{margin-right:10px;font-size:1.2rem}.penalty-text{color:var(--light-color)}.death-encouragement{color:var(--success-color)!important;font-style:italic;font-weight:700}.btn-respawn{background:var(--success-color);font-size:1.1rem;padding:15px 30px;border-radius:10px}.btn-respawn:hover{background:#059669;transform:translateY(-2px);box-shadow:0 6px 20px #10b98166}@keyframes deathAppear{0%{opacity:0;transform:scale(.8) translateY(-50px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes skullBounce{0%{transform:translateY(0) rotate(-5deg)}to{transform:translateY(-10px) rotate(5deg)}}.talent-tree-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000f2;display:none;justify-content:center;align-items:center;z-index:2000;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.talent-tree-content{background:var(--card-bg);border:3px solid var(--primary-color);border-radius:15px;max-width:900px;width:95%;max-height:85vh;box-shadow:0 15px 60px #3b82f666;animation:talentTreeAppear .8s ease-out;display:flex;flex-direction:column}.talent-tree-scrollable{padding:30px;overflow-y:auto;flex:1}.talent-tree-header{text-align:center;margin-bottom:30px;border-bottom:2px solid var(--border-color);padding-bottom:20px}.talent-tree-title{color:var(--primary-color);font-size:2.5rem;margin:0 0 10px;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.talent-tree-subtitle{color:var(--lighter-color);font-size:1.2rem;margin:0 0 15px;font-style:italic}.talent-available-points{background:var(--warning-color);color:var(--darker-color);padding:8px 16px;border-radius:20px;font-weight:700;font-size:1.1rem;display:inline-block}.talent-pathways{display:grid;grid-template-columns:repeat(4,1fr);gap:15px}.talent-pathway{background:var(--dark-color);border:2px solid var(--border-color);border-radius:12px;padding:20px;transition:all .3s ease}.talent-pathway:hover{border-color:var(--primary-color);box-shadow:0 4px 16px #3b82f64d}.talent-pathway-header{text-align:center;margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid var(--border-color)}.talent-pathway-icon{font-size:2rem;margin-bottom:8px}.talent-pathway-name{font-size:1.3rem;font-weight:700;color:var(--lighter-color);margin:0}.talent-pathway-description{font-size:.9rem;color:var(--light-color);margin:5px 0 0;font-style:italic}.talent-nodes{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;justify-items:center;padding:10px}.talent-node{background:var(--darker-color);border:2px solid var(--border-color);border-radius:12px;padding:16px;cursor:pointer;transition:all .3s ease;position:relative;display:flex;align-items:center;justify-content:center;min-height:60px;width:60px;margin:0 auto}.talent-icon{font-size:2rem;line-height:1;-webkit-user-select:none;user-select:none}.talent-node .purchase-counter{position:absolute;top:-8px;right:-8px;background:var(--primary-color);color:#fff;border-radius:50%;width:24px;height:24px;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:700;border:2px solid var(--darker-color);z-index:10}.talent-node.available{border-color:var(--success-color);box-shadow:0 0 8px #10b9814d}.talent-node.allocated{background:linear-gradient(135deg,var(--success-color),#059669);border-color:var(--success-color);color:#fff}.talent-node.locked{opacity:.4;cursor:not-allowed}.talent-node:hover:not(.locked){border-color:var(--primary-color);transform:translateY(-2px) scale(1.05);box-shadow:0 4px 12px #3b82f666}.talent-node-header{margin-bottom:5px}.talent-tree-footer{background:var(--card-bg);border-top:2px solid var(--border-color);padding:20px 30px;text-align:center;flex-shrink:0;border-radius:0 0 15px 15px}.talent-tree-warning{background:#ef44441a;border:1px solid var(--secondary-color);border-radius:8px;padding:15px;margin-bottom:20px;text-align:center}.talent-tree-warning-text{color:var(--secondary-color);font-weight:700;margin:0}.talent-tree-buttons{display:flex;gap:15px;justify-content:center}.btn-ascend{background:linear-gradient(135deg,var(--success-color),#059669);font-size:1.2rem;padding:15px 30px;border-radius:10px;box-shadow:0 4px 12px #10b98166}.btn-ascend:hover{background:linear-gradient(135deg,#059669,#047857);transform:translateY(-2px);box-shadow:0 6px 20px #10b98199}.btn-cancel{background:var(--secondary-color);font-size:1.1rem;padding:12px 25px;border-radius:8px}.btn-cancel:hover{background:#dc2626}@keyframes talentTreeAppear{0%{opacity:0;transform:scale(.8) translateY(-50px)}to{opacity:1;transform:scale(1) translateY(0)}}.talent-pathway.exploration{border-color:#8b5cf6}.talent-pathway.exploration .talent-pathway-icon{color:#8b5cf6}.talent-pathway.power{border-color:#ef4444}.talent-pathway.power .talent-pathway-icon{color:#ef4444}.talent-pathway.wealth{border-color:#f59e0b}.talent-pathway.wealth .talent-pathway-icon{color:#f59e0b}.talent-pathway.knowledge{border-color:#06b6d4}.talent-pathway.knowledge .talent-pathway-icon{color:#06b6d4}.character-display{text-align:center}.hp-bar{width:100%;height:20px;background:var(--dark-color);border-radius:10px;overflow:hidden;margin:10px 0;border:2px solid var(--border-color);position:relative}.hp-fill{height:100%;background:linear-gradient(90deg,var(--success-color),#34d399);transition:width .5s ease;width:100%}.hp-fill.instant{transition:none!important}.hp-fill.respawning{background:linear-gradient(90deg,#6b7280,#9ca3af);animation:respawnPulse 1.5s ease-in-out infinite}@keyframes respawnPulse{0%,to{opacity:.7}50%{opacity:1}}.attack-bar{width:100%;height:16px;background:var(--dark-color);border-radius:8px;overflow:hidden;margin:8px 0;border:2px solid var(--border-color);position:relative}.attack-fill{height:100%;background:linear-gradient(90deg,#f59e0b,#fbbf24);transition:width .1s linear;width:0%}.attack-bar-label,.hp-bar-label{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:.7rem;font-weight:700;color:var(--text-color);text-shadow:1px 1px 2px rgba(0,0,0,.8);pointer-events:none;z-index:10}.character-info{display:flex;flex-direction:column;gap:5px;font-weight:700;color:var(--lighter-color)}#player-attack-interval,#enemy-attack-interval{color:#60a5fa}.sidebar{display:flex;flex-direction:column;gap:20px}.stats-panel,.character-panel,.inventory-panel,.shop-panel{background:var(--card-bg);border-radius:10px;padding:20px;box-shadow:var(--shadow);border:1px solid var(--border-color)}.stats-panel h3,.character-panel h3,.inventory-panel h3,.shop-panel h3{margin-top:0;color:var(--lighter-color)}.stats-grid{display:grid;grid-template-columns:1fr;gap:8px}.stat-item{display:flex;justify-content:space-between;align-items:center;padding:6px 8px;border-radius:6px;background:var(--dark-color);border:1px solid var(--border-color)}.stat-name{font-size:.85rem;color:var(--light-color)}.stat-value{font-weight:700;color:var(--lighter-color);font-size:.9rem}.stat-value.positive{color:var(--success-color)}.stat-item.advanced-stat{background:linear-gradient(135deg,var(--dark-color),rgba(59,130,246,.1));border-color:#3b82f64d}.stat-item.advanced-stat .stat-name{color:#60a5fa}.stat-item.advanced-stat .stat-value{color:#93c5fd}.stat-separator{height:1px;background:linear-gradient(90deg,transparent,var(--border-color),transparent);margin:10px 0;position:relative}.stat-separator:before{content:"⚡";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--card-bg);padding:0 8px;font-size:.8rem;color:var(--accent-color)}.stat-item.multiplier-stat{background:linear-gradient(135deg,var(--dark-color),rgba(251,191,36,.15));border-color:#fbbf2466;box-shadow:0 2px 8px #fbbf241a}.stat-item.multiplier-stat .stat-name{color:#fcd34d;font-weight:600}.stat-item.multiplier-stat .stat-value{color:#fde047;font-weight:700;text-shadow:0 0 4px rgba(253,224,71,.3)}.stat-value.negative{color:var(--secondary-color)}.level-xp-bar{display:flex;align-items:center;gap:12px;margin-bottom:15px;padding:10px;background:var(--dark-color);border-radius:8px;border:1px solid var(--border-color)}.level-display{display:flex;flex-direction:column;align-items:center;min-width:60px}.level-label{font-size:.75rem;color:var(--light-color);margin-bottom:2px}.level-number{font-size:1.2rem;font-weight:700;color:var(--warning-color)}.xp-bar-container{flex:1}.xp-bar{position:relative;height:20px;background:#0000004d;border-radius:10px;border:1px solid var(--border-color);overflow:hidden}.xp-fill{height:100%;background:linear-gradient(90deg,#10b981,#34d399);border-radius:9px;transition:width .3s ease;width:0%}.xp-bar-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:.75rem;color:var(--lighter-color);font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.8);z-index:1}.character-grid{display:grid;grid-template-columns:1fr 1fr 1fr;grid-template-rows:repeat(3,1fr);gap:8px;grid-template-areas:"necklace helmet ring" "weapon body offhand" "belt legs boots"}.character-slot[data-slot=helmet]{grid-area:helmet}.character-slot[data-slot=weapon]{grid-area:weapon}.character-slot[data-slot=offhand]{grid-area:offhand}.character-slot[data-slot=body]{grid-area:body}.character-slot[data-slot=legs]{grid-area:legs}.character-slot[data-slot=belt]{grid-area:belt}.character-slot[data-slot=boots]{grid-area:boots}.character-slot[data-slot=necklace]{grid-area:necklace}.character-slot[data-slot=ring]{grid-area:ring}.character-slot{border:2px solid var(--border-color);border-radius:8px;padding:8px;text-align:center;cursor:pointer;transition:all .3s ease;background:var(--dark-color);position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100px}.character-slot:hover{border-color:var(--primary-color);background:var(--card-hover-bg)}.character-slot.has-item{border-color:var(--success-color);background:#10b9811a}.character-slot-name{font-size:.7rem;color:var(--text-secondary);margin-bottom:4px;text-transform:capitalize;font-weight:500}.character-slot-icon{display:flex;align-items:center;justify-content:center;margin:4px 0}.character-slot-icon .gear-icon{width:32px;height:32px;filter:drop-shadow(1px 1px 2px rgba(0,0,0,.5))}.character-slot-icon.empty .gear-icon{opacity:.3;filter:grayscale(100%) drop-shadow(1px 1px 2px rgba(0,0,0,.5))}.equipped-item-name{font-size:.75rem;color:var(--success-color);font-weight:600;text-align:center;margin-top:4px}.empty-slot{font-size:.7rem;color:var(--text-secondary);font-style:italic;text-align:center;margin-top:4px}.character-tooltip{position:absolute;top:100%;left:50%;transform:translate(-50%);background-color:#141414f2;border:2px solid var(--border-color);border-radius:8px;padding:12px;min-width:200px;max-width:250px;z-index:1000;opacity:0;visibility:hidden;transition:all .3s ease;margin-top:5px;box-shadow:0 4px 12px #0006;pointer-events:none}.character-slot:hover .character-tooltip{opacity:1;visibility:visible}.character-slot:not(.has-item) .character-tooltip{opacity:0!important;visibility:hidden!important}.character-slot[data-slot=ring] .character-tooltip,.character-slot[data-slot=offhand] .character-tooltip,.character-slot[data-slot=boots] .character-tooltip{left:auto;right:0;transform:translate(0)}.tooltip-name{font-weight:700;font-size:.9em;margin-bottom:8px;text-align:center}.tooltip-stats{font-size:.8em;line-height:1.4}.tooltip-stat-line{display:flex;justify-content:space-between;margin-bottom:2px}.tooltip-rarity{text-align:center;font-size:.75em;font-weight:700;text-transform:uppercase;margin-top:6px;padding-top:6px;border-top:1px solid var(--border-color)}.inventory-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:10px;max-height:400px;overflow-y:auto;padding:5px 0}.inventory-item,.shop-item{border:2px solid #ffffff;border-radius:8px;padding:12px;text-align:center;cursor:pointer;transition:all .3s ease;background:var(--dark-color);font-size:.8rem;color:var(--lighter-color);position:relative;min-height:80px;display:flex;flex-direction:column;justify-content:center;align-items:center}.inventory-item.stat-improvement,.shop-item.stat-improvement{border-color:#22c55e;box-shadow:0 0 8px #22c55e4d}.inventory-item:hover{border-color:var(--primary-color);background:var(--card-hover-bg);box-shadow:0 8px 25px #3b82f666;z-index:10;position:relative}.inventory-item:hover .click-hint{opacity:1;transform:translateY(0)}.inventory-item .item-icon{font-size:1.8rem;margin-bottom:6px;text-align:center;line-height:1;filter:drop-shadow(1px 1px 2px rgba(0,0,0,.5))}.shop-item:hover{border-color:var(--primary-color);background:var(--card-hover-bg);box-shadow:0 4px 12px #3b82f64d;position:relative;z-index:5}.inventory-item .item-name{font-weight:700;margin-bottom:2px;color:var(--lighter-color);font-size:.85rem;line-height:1.2}.inventory-item .item-stats{font-size:.7rem;color:var(--light-color);margin-bottom:4px}.inventory-item .item-type{font-size:.65rem;color:var(--success-color);text-transform:uppercase;font-weight:700;margin-bottom:4px}.inventory-item .click-hint{font-size:.6rem;color:var(--primary-color);opacity:0;transform:translateY(5px);transition:all .3s ease;font-weight:700;text-transform:uppercase;letter-spacing:.5px}.inventory-item .item-rarity{font-size:.8em;font-weight:700;margin:4px 0;text-transform:uppercase;text-align:center}.inventory-item.equipping{animation:equipAnimation .3s ease-out;border-color:var(--success-color);background:#10b98133}.inventory-empty{grid-column:1 / -1}@keyframes equipAnimation{0%{transform:scale(1);box-shadow:0 0 #10b98166}50%{transform:scale(1.1);box-shadow:0 0 20px #10b98199}to{transform:scale(1);box-shadow:0 0 #10b98166}}.shop-item{position:relative}.item-price{background:var(--warning-color);color:#fff;font-size:.7rem;padding:2px 6px;border-radius:4px;margin-top:5px;display:inline-block}.controls{display:flex;justify-content:center;gap:15px;padding:20px;background:var(--darker-color);border-top:1px solid var(--border-color)}.btn{padding:12px 20px;border:none;border-radius:8px;background:var(--primary-color);color:#fff;cursor:pointer;font-weight:700;font-size:.9rem;transition:all .3s ease}.btn:hover{background:#2563eb;transform:translateY(-2px);box-shadow:0 4px 8px #0006}.btn-danger{background:var(--secondary-color)}.btn-danger:hover{background:#dc2626}.btn:disabled{background:var(--light-color);cursor:not-allowed;transform:none;box-shadow:none}@media (max-width: 768px){body{padding:10px}.game-main,.combat-area{grid-template-columns:1fr;gap:15px}.equipment-grid{grid-template-columns:1fr 1fr}.shop-content{grid-template-columns:1fr;gap:15px}.player-stats{justify-content:center}.game-header{text-align:center}.zone-buttons{justify-content:center}.controls{flex-wrap:wrap}}@keyframes levelUp{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.level-up{animation:levelUp .5s ease-in-out}@keyframes damage{0%{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}to{transform:translate(0)}}.damage-animation{animation:damage .3s ease-in-out}@keyframes newItem{0%{transform:scale(0) rotate(0);opacity:0}50%{transform:scale(1.2) rotate(180deg);opacity:1}to{transform:scale(1) rotate(360deg);opacity:1}}.new-item{animation:newItem .6s ease-in-out}.floating-damage{position:absolute;font-size:1.2em;font-weight:700;pointer-events:none;z-index:1000;animation:floatUp 1.5s ease-out forwards;text-shadow:2px 2px 4px rgba(0,0,0,.8)}.floating-damage.player,.floating-damage.enemy{color:#ef4444}.floating-damage.critical{color:#fbbf24;font-size:1.4em;animation:floatUpCrit 1.5s ease-out forwards}.floating-damage.miss{color:#6b7280}.floating-damage.heal{color:#10b981}@keyframes floatUp{0%{opacity:1;transform:translateY(0) scale(1)}70%{opacity:.8;transform:translateY(-40px) scale(1.1)}to{opacity:0;transform:translateY(-60px) scale(.8)}}@keyframes floatUpCrit{0%{opacity:1;transform:translateY(0) scale(1.2)}20%{transform:translateY(-10px) scale(1.4)}70%{opacity:.8;transform:translateY(-50px) scale(1.2)}to{opacity:0;transform:translateY(-80px) scale(.9)}}.player-image{width:64px;height:64px;display:inline-block;border-radius:50%;margin:0 auto;position:relative;background:linear-gradient(135deg,#4a5568,#2d3748);border:2px solid #e2e8f0;box-shadow:0 4px 8px #0000004d}.player-image.warrior{background:linear-gradient(135deg,#4299e1,#2b77cb);border:3px solid #fbd38d;position:relative;transition:all .3s ease;animation:playerIdle 3s ease-in-out infinite}.player-image.warrior:hover{transform:scale(1.1);box-shadow:0 6px 12px #4299e166}.player-image.player-attacking{animation:playerAttack .6s ease-out!important}.enemy-image.enemy-attacking,.enemy-image.slime.enemy-attacking,.enemy-image.goblin.enemy-attacking,.enemy-image.orc.enemy-attacking,.enemy-image.skeleton.enemy-attacking,.enemy-image.dragon.enemy-attacking{animation:enemyAttack .6s ease-out!important;animation-fill-mode:both!important}.player-image.warrior:before{content:"";position:absolute;top:8px;left:8px;width:44px;height:44px;background:linear-gradient(135deg,#e2e8f0,#cbd5e0);border-radius:50%;border:2px solid #4a5568}.player-image.warrior:after{content:"⚔️";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:20px;z-index:1;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.enemy-image{width:64px;height:64px;display:inline-block;border-radius:50%;margin:0 auto;position:relative;background:linear-gradient(135deg,#4a5568,#2d3748);border:2px solid #e2e8f0;box-shadow:0 4px 8px #0000004d}.enemy-image.slime{background:radial-gradient(circle,#68d391,#38a169);border-radius:60%/70% 70% 30% 30%;animation:slimeBounce 2s ease-in-out infinite}.enemy-image.goblin{background:linear-gradient(135deg,#68d391,#2f855a);border-radius:40% 60% 60% 40%/60% 30% 70% 40%}.enemy-image.goblin:before{content:"";position:absolute;inset:15px 15px 30px;background:#2d3748;border-radius:50%}.enemy-image.wolf{background:linear-gradient(135deg,#a0aec0,#4a5568);border-radius:50% 50% 20% 20%}.enemy-image.wolf:before{content:"";position:absolute;inset:20px;background:#2d3748;border-radius:50%}.enemy-image.orc{background:linear-gradient(135deg,#38a169,#2f855a);border-radius:30% 70% 70% 30%/30% 30% 70% 70%}.enemy-image.skeleton{background:linear-gradient(135deg,#e2e8f0,#cbd5e0);border-radius:50%}.enemy-image.skeleton:before{content:"";position:absolute;inset:15px;background:#2d3748;border-radius:50%}.enemy-image.spider{background:radial-gradient(circle,#2d3748,#1a202c);border-radius:50%}.enemy-image.spider:after{content:"";position:absolute;inset:10px;background:#4a5568;border-radius:50%}.enemy-image.yeti{background:linear-gradient(135deg,#e2e8f0,#cbd5e0);border-radius:40% 60% 60% 40%/40% 40% 60% 60%}.enemy-image.dragon{background:linear-gradient(135deg,#f56565,#e53e3e);border-radius:30% 70% 70% 30%/30% 30% 70% 70%}.enemy-image.dragon:before{content:"";position:absolute;inset:10px;background:#742a2a;border-radius:30% 70% 70% 30%/30% 30% 70% 70%}.enemy-image.giant{background:linear-gradient(135deg,#a0aec0,#718096);border-radius:20% 80% 80% 20%/20% 20% 80% 80%}@keyframes slimeBounce{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}@keyframes playerIdle{0%,to{transform:scale(1) rotate(0);box-shadow:0 4px 8px #0000004d}50%{transform:scale(1.05) rotate(1deg);box-shadow:0 6px 12px #4299e133}}@keyframes playerAttack{0%{transform:translate(0) rotate(0)}50%{transform:translate(50px) rotate(20deg) scale(1.1)}to{transform:translate(0) rotate(0);box-shadow:0 4px 8px #0000004d}}@keyframes enemyAttack{0%{transform:translate(0) rotate(0)}50%{transform:translate(-50px) rotate(-20deg) scale(1.1)}to{transform:translate(0) rotate(0);box-shadow:0 4px 8px #0000004d}}.enemy-display{display:flex;flex-direction:column;align-items:center;gap:8px;margin-bottom:10px;min-height:105px}.enemy-display h4{margin:0;color:var(--light-color)}.player-display{display:flex;flex-direction:column;align-items:center;gap:8px;margin-bottom:10px;min-height:105px;justify-content:flex-end}.player-display h4{margin:0;color:var(--light-color)}.gear-icon{width:24px;height:24px;display:inline-block;margin:2px;transition:all .3s ease;border-radius:4px;background:#8080801a;min-height:24px;position:relative}.gear-icon:not([src]):before,.gear-icon[src=""]:before{content:"⚙️";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:14px;opacity:.6;animation:spin 1s linear infinite}@keyframes spin{0%{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(360deg)}}.gear-icon:hover{transform:scale(1.1)}.gear-icon.rarity-common{background:#80808033;border:2px solid #808080;border-radius:4px;padding:2px}.gear-icon.rarity-uncommon{background:#22c55e33;border:2px solid #22c55e;border-radius:4px;padding:2px;box-shadow:0 0 8px #22c55e66}.gear-icon.rarity-rare{background:#3b82f633;border:2px solid #3b82f6;border-radius:4px;padding:2px;box-shadow:0 0 8px #3b82f666}.gear-icon.rarity-epic{background:#9333ea33;border:2px solid #9333ea;border-radius:4px;padding:2px;box-shadow:0 0 8px #9333ea66;animation:epic-pulse 2s ease-in-out infinite alternate}.gear-icon.rarity-legendary{background:#f59e0b33;border:2px solid #f59e0b;border-radius:4px;padding:2px;box-shadow:0 0 12px #f59e0b99;animation:legendary-glow 1.5s ease-in-out infinite alternate}@keyframes epic-pulse{0%{box-shadow:0 0 8px #9333ea66;transform:scale(1)}to{box-shadow:0 0 12px #9333eab3;transform:scale(1.05)}}@keyframes legendary-glow{0%{box-shadow:0 0 12px #f59e0b99;transform:scale(1)}to{box-shadow:0 0 16px #f59e0be6;transform:scale(1.08)}}.equipment-slot .gear-icon{width:32px;height:32px}.inventory-item .gear-icon{width:36px;height:36px}.shop-item .gear-icon{width:30px;height:30px}.talent-tooltip{position:fixed;background:var(--card-bg);border:2px solid var(--border-color);border-radius:8px;padding:12px;box-shadow:0 8px 24px #0006;z-index:10000;max-width:300px;pointer-events:none;opacity:0;transition:opacity .2s ease}.talent-tooltip.visible{opacity:1}.talent-tooltip .tooltip-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;padding-bottom:8px;border-bottom:1px solid var(--border-color)}.talent-tooltip .tooltip-name{font-weight:700;color:var(--primary-color);font-size:1rem}.talent-tooltip .tooltip-level{font-size:.9rem;color:var(--light-color);background:#ffffff1a;padding:2px 6px;border-radius:4px}.talent-tooltip .tooltip-description{margin-bottom:8px;color:var(--text-color);line-height:1.4;font-size:.9rem}.talent-tooltip .tooltip-effect{margin-bottom:8px;color:var(--success-color);font-weight:700;font-size:.9rem}.talent-tooltip .tooltip-cost{color:var(--warning-color);font-weight:700;font-size:.9rem}.stats-tooltip{position:fixed;background:var(--card-bg);border:2px solid var(--border-color);border-radius:8px;padding:12px;box-shadow:0 8px 24px #0006;z-index:10000;max-width:300px;pointer-events:none;opacity:0;transition:opacity .2s ease}.stats-tooltip.visible{opacity:1}.stats-tooltip .tooltip-header{margin-bottom:8px;padding-bottom:8px;border-bottom:1px solid var(--border-color)}.stats-tooltip .tooltip-name{font-weight:700;color:var(--primary-color);font-size:1rem}.stats-tooltip .tooltip-content{font-size:.9rem;line-height:1.4}.stat-breakdown-item{display:flex;justify-content:space-between;margin-bottom:4px;color:var(--text-color)}.stat-breakdown-item.total{border-top:1px solid var(--border-color);padding-top:4px;margin-top:8px;font-weight:700;color:var(--primary-color)}.stat-breakdown-value{color:var(--success-color)}.stat-breakdown-value.negative{color:var(--secondary-color)}.stat-breakdown-section{font-weight:700;color:var(--primary-color);margin:8px 0 4px;font-size:.85rem}.equipment-item{padding-left:12px;font-size:.85rem;color:var(--light-color)}.equipment-item .stat-breakdown-value{color:var(--success-color);font-size:.85rem}.stat-tooltip-item{position:relative;cursor:help}.stat-tooltip-item:hover{background:#3b82f61a;border-radius:4px}.zone-tooltip{position:fixed;background:var(--card-bg);border:2px solid var(--border-color);border-radius:12px;padding:16px;z-index:1000;min-width:200px;max-width:300px;box-shadow:0 8px 32px #0009;font-size:.9rem;line-height:1.4;opacity:0;transform:translateY(10px);transition:opacity .2s ease,transform .2s ease;pointer-events:none;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.zone-tooltip.visible{opacity:1;transform:translateY(0)}.zone-tooltip-header{display:flex;align-items:center;gap:8px;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border-color)}.zone-tooltip-icon{font-size:1.2rem;width:24px;text-align:center}.zone-tooltip-title{font-weight:700;font-size:1rem;color:var(--lighter-color)}.zone-tooltip-description{color:var(--light-color);margin-bottom:12px;font-style:italic}.zone-tooltip-content{color:var(--lighter-color)}.zone-tooltip-unlock{background:#ef444426;border:1px solid rgba(239,68,68,.3);border-radius:8px;padding:10px;margin-top:8px}.zone-tooltip-unlock-title{font-weight:700;color:var(--secondary-color);font-size:.85rem;margin-bottom:4px}.zone-tooltip-unlock-req{color:var(--light-color);font-size:.8rem}.zone-tooltip-unlock-current{color:var(--lighter-color);font-size:.8rem;font-weight:700}.zone-tooltip-enemies{margin-top:8px}.zone-tooltip-enemies-title{font-weight:700;color:var(--warning-color);font-size:.85rem;margin-bottom:6px}.zone-tooltip-enemy-list{color:var(--light-color);font-size:.8rem;line-height:1.3}.zone-tooltip-boss{background:#f59e0b26;border:1px solid rgba(245,158,11,.3);border-radius:6px;padding:8px;margin-top:8px}.zone-tooltip-boss-title{font-weight:700;color:var(--warning-color);font-size:.85rem;margin-bottom:2px}.zone-tooltip-boss-info{color:var(--light-color);font-size:.8rem}
